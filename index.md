---
layout: post
theme: jekyll-theme-Tactile
---
# 一个生存分析样例的过程简析

在本案例中，我们使用了多种生存分析模型进行拟合分析，并结合可交互界面展示分析结果。通过这些分析方法，能够更好地理解影响生存时间的各种因素，并为后续的决策提供依据。以下是整个分析流程的详细描述。

## Step 1: 初始化数据
在分析开始时，我们首先读取了数据，并进行必要的数据清理和存储。数据的预处理是生存分析中至关重要的一步，确保数据的质量能够直接影响后续模型的结果和解释。

## Step 2.1: 使用 Kaplan-Meier 生存模型绘制总体生存曲线
Kaplan-Meier 生存曲线是用于估计不同时间点的生存概率的经典方法，通常用于探索总体生存率。通过该模型，我们可以直观地看到随着时间推移的生存率变化，从而了解样本的生存情况。

![Kaplan-Meier 生存曲线](/images/p1.png)

## Step 2.2: 单变量生存分析
接下来，我们通过两种方法来分析单一变量对生存模型的影响：
1. **单变量 Kaplan-Meier 生存曲线**：通过不同的单变量类别，绘制其对应的生存曲线。
2. **提取特定状态下的生存概率**：我们进一步分析不同状态下的生存概率，以便理解特定变量的影响。

以下是单变量分析的结果：

![单变量生存曲线](/images/p2.png)
![生存概率提取](/images/p3.png)

## Step 3.1: 使用 Cox 比例风险模型进行多元分析
Cox 比例风险模型是一种用于处理生存数据的常用回归模型，它通过多变量分析来估计多个因素对生存时间的影响。该模型的核心是比例风险假设，即风险比保持恒定。我们在本分析中使用该模型对多个变量进行了回归分析，并呈现了相应的图表。

![Cox 比例风险模型](/images/p4.png)
![Cox 模型结果](/images/p5.png)
![风险比图](/images/p6.png)

图像较多，此处省略其余图像

## Step 3.2: 检验比例风险假设
为了验证 Cox 比例风险模型中的比例风险假设是否成立，我们绘制了 **log-log 图**，通过该图可以判断变量是否符合比例风险假设。如果比例风险假设被违反，模型的推断可能不准确，因此这一检验至关重要。

![log-log图](/images/p7.png)

## Step 4: 使用 AFT 模型进行分析
AFT（Accelerated Failure Time）模型是另一种生存分析模型，它通过加速故障时间来分析生存数据。与 Cox 比例风险模型不同，AFT 模型假设时间的分布被某些因素所加速或减缓。我们在本步骤中对 AFT 模型进行了应用，并绘制了相关图表。

![AFT 模型分析](/images/p8.png)

## Step 5: 实现可交互生存分析
为了提升用户体验，我们开发了一个面向用户的可交互界面，允许用户根据需要实时更改分析参数。随着参数的改变，相关图表和分析结果会实时更新，从而帮助用户快速得到准确的生存分析结果。

以下是可交互分析界面的部分截图：

![可交互界面1](/images/p9.png)
![可交互界面2](/images/p10.png)

---

通过本文的分享，希望能帮助大家更好地理解生存分析的相关方法与技术，并在实际应用中能够灵活运用。如果有任何问题，欢迎留言讨论！
